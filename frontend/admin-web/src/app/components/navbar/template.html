<nav class="navbar">
<div class="container navbar-container">
    <a routerLink="/" class="navbar-brand">
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
        <path d="M2 17l10 5 10-5"/>
        <path d="M2 12l10 5 10-5"/>
    </svg>
    <span>Admin Dashboard</span>
    </a>

    <div class="navbar-menu">
    <ng-container *ngIf="isAuthenticated">
        <a routerLink="/dashboard" routerLinkActive="active" class="nav-link">Dashboard</a>
        <a routerLink="/users" routerLinkActive="active" class="nav-link">Users</a>
        <a routerLink="/orders" routerLinkActive="active" class="nav-link">Orders</a>
        <a routerLink="/payments" routerLinkActive="active" class="nav-link">Payments</a>
    </ng-container>
    </div>

    <div class="navbar-actions">
    <ng-container *ngIf="isAuthenticated">
        <div class="user-menu" [class.open]="showUserMenu" (clickOutside)="showUserMenu = false">
        <button class="user-button" (click)="toggleUserMenu()">
            <div class="user-avatar">
            {{ getUserInitials() }}
            </div>
            <span class="user-name">{{ displayName }}</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 9l6 6 6-6"/>
            </svg>
        </button>
        <div class="user-dropdown" *ngIf="showUserMenu">
            <a routerLink="/profile" class="dropdown-item" (click)="showUserMenu = false">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
            Profile
            </a>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item logout" (click)="logout()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            Logout
            </button>
        </div>
        </div>
    </ng-container>
    <ng-container *ngIf="!isAuthenticated">
        <a routerLink="/login" class="btn btn-outline">Sign In</a>
    </ng-container>
    </div>
</div>
</nav>